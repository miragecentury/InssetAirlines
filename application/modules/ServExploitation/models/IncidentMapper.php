<?php

class ServExploitation_Model_IncidentMapper extends Spesx_Mapper_Mapper
{

    protected function _createItemFromRow(Zend_Db_Table_Row $row)
    {
        $item = new ServExploitation_Model_Incident();
        $item->set_noIncident($row->noIncident)
            ->set_dateIncident($row->dateIncident)
            ->set_noAeroportArriNextIncident($row->noAeroportArriNextIncident)
            ->set_noVol($row->noVol)
            ->set_idTypeIncident($row->idTypeIncident);

        return $item;
    }

    protected function _getDataArrayFromItem($item)
    {
        return array(
            'noIncident' => $item->get_noIncident(),
            'dateIncident' => $item->get_dateIncident(),
            'noAeroportArriNextIncident' => $item->get_noAeroportArriNextIncident(),
            'noVol' => $item->get_noVol(),
            'idTypeIncident' => $item->get_idTypeIncident(),
        );
    }
    /**
     * création / ajout d'items des / dans liste ApplicationVar
     *
     * @author pewho
     * @access public
     * @param ServExploitation_Model_IncidentMapper $item
     * @return true|false
     */
    public function addItemInVarList($item){
        //But : construction d'un Array de structure :
        //ListIncident [VolsIncident][W][noVol] = noIncident
        //ForEach TypeIncident
            //calcul de la semaine concernée

            //recupération du noVol et du noIncident

            //initialisation si non existance de la liste concernée

            //enregistrement

            //finalisation
    }
    /**
     * changement de semaine => rotation des listes automatique
     *
     * @author pewho
     * @return true|false
     * @access public
     */
    public function rotateVarListe(){
        //recuperation des incidents suivant les semaines concernées S+1 à S+4

        //enregistrement des Listes en BDD

    }

}

?>
