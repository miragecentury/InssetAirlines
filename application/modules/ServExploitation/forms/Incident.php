<?php

/**
 * Description of ServExploitation_Form_Incident
 * 
 * Formulaire d'ajout ou modificication d'incident
 *
 * @author charles
 */
class ServExploitation_Form_Incident extends Zend_Form
{

    public function init()
    {
        $this->setMethod('POST');
        
        //Validator
        $date = new Zend_Validate_Date($_format= 'Y-m-d-H' );
        
        //Creation du champ permettant de selectionner une date
        $dateIncident = new Zend_Form_Element_Text('dateIncident');
        $dateIncident->setLabel('Date de l\'incident : (format:Y-m-d-H[-i-s])');
        $dateIncident->setRequired();
        $dateIncident->setValidators(array($date));

        $noAeroport = Application_Model_Aeroport::getSelectAeroport('noAeroportArriNextIncident', 'Aeroport de secours :');
        $noVol = ServPlaning_Model_Vol::getSelectVol('noVol', 'No Vol :');
        $idTypeIncident = ServExploitation_Model_TypeIncident::getSelectTypeIncident('idTypeIncident','Type d\'incident :');

        //Creation du submit
        $submit = new Zend_Form_Element_Submit('submit');
        $submit->setLabel('Valider');
        $submit->setIgnore(true);

        //Creation du formulaire
        $this->addElement($dateIncident);
        $this->addElement($noAeroport);
        $this->addElement($noVol);
        $this->addElement($idTypeIncident);
        $this->addElement($submit);
    }

}

?>
